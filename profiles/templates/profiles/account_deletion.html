{% extends "base.html" %}
{% load static %}

{% block content %}
    <h2>Would you like to delete your account?</h2>

    <p>This cannot be undone.</p>

    <button type="button"
            class="btn btn-danger"
            data-toggle="modal"
            data-target="#deleteAccountModal">Delete Account</button>

    <div class="modal fade"
         id="deleteAccountModal"
         tabindex="-1"
         aria-labelledby="deleteAccountModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-danger" id="deleteAccountModalLabel">Confirm Account Deletion</h5>
                    <button type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <form action="{% url 'account_deletion' userkey=request.user.pk %}"
                          method="post">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger">Yes, Delete My Account</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
